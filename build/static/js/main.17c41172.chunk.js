(this["webpackJsonpprojeto-pedidos"]=this["webpackJsonpprojeto-pedidos"]||[]).push([[0],{212:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s),o=a(34),n=a.n(o),d=a(18),c=a(3),l=(a(93),a(5)),r=a(16),j=a(15),m=a.n(j),b=a(2),p=(a(81),a(212),a(1)),u=function(){var e=Object(c.g)(),t=r.b().shape({email:r.c().email("Este n\xe3o \xe9 um formato v\xe1lido de email").required("O campo email \xe9 de preenchimento obrigat\xf3rio"),senha:r.c().min(8,"M\xednimo de 8 caracteres para o campo senha").required("O campo senha \xe9 de preenchimento obrigat\xf3rio")});return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"Login",children:[Object(p.jsx)("h2",{children:"Autentica\xe7\xe3o"}),Object(p.jsx)("p",{children:"Informe seu email e senha para autentica\xe7\xe3o"}),Object(p.jsx)(l.d,{onSubmit:function(t){b.b.loading("Aguarde... Validando dados do usu\xe1rio");var a={method:"post",url:"http://localhost:3000/usuarios/autenticaUsuario",headers:{"Content-Type":"application/json"},data:JSON.stringify({email:t.email,senha:t.senha})};m()(a).then((function(t){localStorage.setItem("app-token",t.data.resposta.token),localStorage.setItem("app-email",t.data.resposta.email),localStorage.setItem("app-senha",t.data.resposta.senha),b.b.dismiss(),b.b.success("Usu\xe1rio autenticado com sucesso",{autoClose:!1}),e("/pedidos")})).catch((function(e){b.b.dismiss(),b.b.warning("Usu\xe1rio n\xe3o encontrado para os dados informados",{autoClose:!1})}))},validationSchema:t,initialValues:{email:"",senha:""},children:Object(p.jsxs)(l.c,{className:"Login",children:[Object(p.jsxs)("div",{className:"Login-Group",children:[Object(p.jsx)(l.b,{name:"email",className:"Login-Field"}),Object(p.jsx)(l.a,{component:"span",name:"email",className:"Login-Error"})]}),Object(p.jsxs)("div",{className:"Login-Group",children:[Object(p.jsx)(l.b,{type:"password",name:"senha",className:"Login-Field"}),Object(p.jsx)(l.a,{component:"span",name:"senha",className:"Login-Error"})]}),Object(p.jsx)("button",{className:"Login-Btn",type:"submit",children:"Validar meus dados"})]})}),Object(p.jsx)(b.a,{position:"top-center",draggable:"true"})]})})},h=a(6),O=a(20),x=(a(214),a(38)),g=(a(82),function(e){var t=e.itensPedido,a=e.handleItemDeletion;return Object(p.jsx)(p.Fragment,{children:t.map((function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"Itens-container",children:[Object(p.jsxs)("div",{className:"Itens-title",children:["( ",("000000"+e.quantidade).slice(-6)," Und ) - ",e.nome]}),Object(p.jsxs)("div",{className:"buttons-container",children:[1===e.rentabilidade?Object(p.jsx)(x.a,{className:"Badge",bg:"success",children:"Rentabilidade \xf3tima"}):2===e.rentabilidade?Object(p.jsx)(x.a,{className:"Badge",bg:"warning",children:"Rentabilidade boa"}):Object(p.jsx)(x.a,{className:"Badge",bg:"danger",children:"Rentabilidade ruim"}),Object(p.jsx)("button",{className:"Item-button",onClick:function(){return a(e.id)},children:Object(p.jsx)(O.c,{})})]})]},e.id)})}))})}),N=(a(215),function(e){var t=e.listaPedidos;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"Lista-pedidos",children:t.map((function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"Itens-container",children:[Object(p.jsxs)("div",{className:"Itens-title",children:[e.documento," - ",e.nome]}),Object(p.jsxs)("div",{className:"buttons-container",children:[("0000000000"+e.numeroPedidoCliente).slice(-10)," ( ",e.quantidade," Und )"]})]},e.id)})}))})})}),v=(a(216),a(217),function(){var e=Object(c.g)(),t=!!localStorage.getItem("app-token"),a=Object(s.useState)(!1),i=Object(h.a)(a,2),o=i[0],n=i[1],d=Object(s.useState)(!1),j=Object(h.a)(d,2),u=j[0],x=j[1],v=Object(s.useState)([]),P=Object(h.a)(v,2),f=P[0],S=P[1],C=Object(s.useState)([]),F=Object(h.a)(C,2),I=F[0],y=F[1],k=function(){b.b.dismiss(),b.b.loading("Aguarde... Listando itens do pedido");var e=JSON.stringify({idPedido:localStorage.getItem("idPedido")}),t={method:"post",url:"https://projeto-pedidos-api.jelastic.saveincloud.net/itensPedido/lista",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("app-token")},data:e};m()(t).then((function(e){b.b.dismiss(),"001"===e.data.resposta.codigoMensagem?S(e.data.resposta.itensPedido):b.b.warning(e.data.resposta.mensagem,{autoClose:!1})})).catch((function(e){b.b.dismiss(),b.b.warning("Houve um erro n\xe3o esperado ao listar os itens do pedido, favor consulte o suporte",{autoClose:!1})}))},L=function(){b.b.dismiss(),b.b.loading("Aguarde... Listando pedidos");var e=JSON.stringify({textoPesquisa:""}),t={method:"post",url:"https://projeto-pedidos-api.jelastic.saveincloud.net/pedidos/lista",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("app-token")},data:e};m()(t).then((function(e){b.b.dismiss(),"001"===e.data.resposta.codigoMensagem?y(e.data.resposta.pedidos):b.b.warning(e.data.resposta.mensagem,{autoClose:!1})})).catch((function(e){b.b.dismiss(),b.b.warning("Houve um erro ao listar os pedidos, favor consulte o suporte",{autoClose:!1})}))};Object(s.useEffect)((function(){L()}),[]);var A=r.b().shape({numeroPedidoCliente:r.a("Somente n\xfameros").required("O campo de numero do pedido do cliente \xe9 de preenchimento obrigat\xf3rio"),idCliente:r.c().required("O campo cliente \xe9 de preenchimento obrigat\xf3rio")});return t?Object(p.jsxs)("div",{className:"Pedidos",children:[Object(p.jsxs)("div",{className:"Pedidos-cabecalho",children:[Object(p.jsx)("div",{className:"Pedidos-titulo",children:Object(p.jsx)("h2",{children:"Pedidos"})}),Object(p.jsx)("div",{className:"Pedidos-opcoes",children:Object(p.jsxs)("button",{className:"button",onClick:function(){localStorage.setItem("app-token",""),localStorage.setItem("app-email",""),localStorage.setItem("app-senha",""),e("/")},children:[Object(p.jsx)(O.d,{})," Sair"]})})]}),u?Object(p.jsx)("div",{className:"Pedidos-novo",children:Object(p.jsx)(l.d,{onSubmit:function(e){b.b.dismiss(),b.b.loading("Aguarde... Validando dados do pedido");var t=JSON.stringify({numeroPedidoCliente:e.numeroPedidoCliente,idCliente:e.idCliente}),a={method:"post",url:"https://projeto-pedidos-api.jelastic.saveincloud.net/pedidos",headers:{Authorization:"Bearer "+localStorage.getItem("app-token"),"Content-Type":"application/json"},data:t};m()(a).then((function(e){b.b.dismiss(),localStorage.setItem("idPedido",e.data.resposta.idPedido),k(),n(!0)})).catch((function(e){b.b.dismiss(),b.b.warning("Houve um erro ao iniciar o pedido",{autoClose:!1}),n(!1)}))},validationSchema:A,initialValues:{idCliente:"",numeroPedidoCliente:""},setValuesOrders:!0,children:Object(p.jsxs)(l.c,{className:"Pedido-Form",children:[Object(p.jsxs)("div",{className:"Pedidos-linhas",children:[Object(p.jsxs)("div",{className:"Flex1",children:[Object(p.jsx)("label",{children:"* N\xba Pedido cliente"}),Object(p.jsx)(l.b,{name:"numeroPedidoCliente",className:"Pedido-Field"}),Object(p.jsx)(l.a,{component:"span",name:"numeroPedidoCliente",className:"Login-Error"})]}),Object(p.jsxs)("div",{className:"Flex4",children:[Object(p.jsx)("label",{children:"* Selecione um cliente"}),Object(p.jsxs)(l.b,{className:"Pedido-Field Select",component:"select",name:"idCliente",children:[Object(p.jsx)("option",{className:"options",value:"0"}),Object(p.jsx)("option",{className:"options",value:"1",children:"Darth\u200b \u200bVader"}),Object(p.jsx)("option",{className:"options",value:"2",children:"Obi-Wan\u200b \u200bKenobi"}),Object(p.jsx)("option",{className:"options",value:"3",children:"Luke\u200b \u200bSkywalker"}),Object(p.jsx)("option",{className:"options",value:"4",children:"Imperador\u200b \u200bPalpatine"}),Object(p.jsx)("option",{className:"options",value:"5",children:"Han\u200b \u200bSolo"})]})]})]}),!1===o?Object(p.jsx)("div",{className:"Pedidos-opcoes",children:Object(p.jsx)("button",{className:"Pedido-Btn",type:"submit",children:"Adicionar itens"})}):""]})})}):Object(p.jsx)("div",{className:"Pedidos-opcoes-pedido",children:Object(p.jsxs)("button",{className:"button",onClick:function(){x(!u)},type:"button",children:[Object(p.jsx)(O.b,{})," Novo Pedido"]})}),o?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.d,{onSubmit:function(e){b.b.dismiss(),b.b.loading("Aguarde... Validando dados do item");var t=e.precoUnitario;t=(t=t.replace(".",",")).replace(",",".");var a=JSON.stringify({idPedido:localStorage.getItem("idPedido"),idProduto:String(e.idProduto),quantidade:String(e.quantidade),precoUnitario:String(t)}),s={method:"post",url:"https://projeto-pedidos-api.jelastic.saveincloud.net/itensPedido",headers:{Authorization:"Bearer "+localStorage.getItem("app-token"),"Content-Type":"application/json"},data:a};m()(s).then((function(e){b.b.dismiss(),"001"===e.data.resposta.codigoMensagem?k():b.b.warning(e.data.resposta.mensagem,{autoClose:!1})})).catch((function(e){b.b.dismiss(),b.b.warning("Houve um erro ao adicionar o item, favor consulte o suporte",{autoClose:!1})}))},initialValues:{idProduto:1,quantidade:0,precoUnitario:0},children:Object(p.jsxs)(l.c,{className:"Pedido-Form",children:[Object(p.jsx)("div",{className:"Pedidos-linhas",children:Object(p.jsx)("div",{className:"Flex1",children:Object(p.jsx)("hr",{})})}),Object(p.jsx)("div",{className:"Pedidos-linhas",children:Object(p.jsxs)("div",{className:"Flex1",children:[Object(p.jsx)("label",{children:"* Selecione um produto"}),Object(p.jsxs)(l.b,{className:"Pedido-Field Select",component:"select",name:"idProduto",children:[Object(p.jsx)("option",{className:"options",value:"0"}),Object(p.jsx)("option",{className:"options",value:"1",children:"Millenium\u200b \u200bFalcon"}),Object(p.jsx)("option",{className:"options",value:"2",children:"X-Wing"}),Object(p.jsx)("option",{className:"options",value:"3",children:"Super Star Destroyer"}),Object(p.jsx)("option",{className:"options",value:"4",children:"TIE Fighter"}),Object(p.jsx)("option",{className:"options",value:"5",children:"Lightsaber"}),Object(p.jsx)("option",{className:"options",value:"6",children:"DLT-19 Heavy Blaster Rifle"}),Object(p.jsx)("option",{className:"options",value:"7",children:"Lightsaber"})]})]})}),Object(p.jsxs)("div",{className:"Pedidos-linhas",children:[Object(p.jsxs)("div",{className:"Flex2 NoLeft",children:[Object(p.jsx)("label",{children:"* Pre\xe7o"}),Object(p.jsx)(l.b,{name:"precoUnitario",className:"Pedido-Field"})]}),Object(p.jsxs)("div",{className:"Flex2",children:[Object(p.jsx)("label",{children:"* Quantidade"}),Object(p.jsx)(l.b,{name:"quantidade",className:"Pedido-Field"})]}),Object(p.jsx)("div",{className:"Flex4 Pedidos-opcoes",children:Object(p.jsxs)("button",{className:"button Botao-adicionar-item",type:"submit",children:[Object(p.jsx)(O.a,{})," Adicionar item"]})})]})]})}),Object(p.jsx)("div",{className:"Pedidos-intens",children:Object(p.jsx)(g,{itensPedido:f,handleItemDeletion:function(e){b.b.dismiss(),b.b.loading("Aguarde... Validando dados do item");var t=JSON.stringify({id:String(e)}),a={method:"delete",url:"https://projeto-pedidos-api.jelastic.saveincloud.net/itensPedido",headers:{Authorization:"Bearer "+localStorage.getItem("app-token"),"Content-Type":"application/json"},data:t};m()(a).then((function(e){b.b.dismiss(),"001"===e.data.resposta.codigoMensagem?k():b.b.warning(e.data.resposta.mensagem,{autoClose:!1})})).catch((function(e){b.b.dismiss(),b.b.warning("Erro n\xe3o esperado ao excluir o item do pedido, consulte o suporte",{autoClose:!1})}))}})}),Object(p.jsx)("div",{className:"Pedidos-opcoes-pedido",children:Object(p.jsxs)("button",{className:"button Botao-adicionar-item",onClick:function(){localStorage.setItem("idPedido",""),x(!u),n(!1),L()},type:"button",children:[Object(p.jsx)(O.b,{})," Finalizar Pedido"]})})]}):"",Object(p.jsx)("div",{className:"Pedidos-intens",children:Object(p.jsx)(N,{listaPedidos:I})}),Object(p.jsx)(b.a,{position:"top-center",draggable:"true"})]}):Object(p.jsx)(c.a,{to:"/"})}),P=a.p+"static/media/404.3ccf2311.png",f=(a(218),function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"Page404",children:[Object(p.jsx)("div",{className:"image-container",children:Object(p.jsx)("img",{src:P,alt:"P\xe1gina n\xe3o encontrada"})}),Object(p.jsx)("h2",{children:"A p\xe1gina solicitada n\xe3o existe ou voc\xea n\xe3o tem permiss\xe3o de acesso"}),Object(p.jsx)(d.b,{style:{color:"#FFF"},to:"/",children:"Voltar para o login"})]})})}),S=function(){return Object(p.jsx)("main",{className:"App",children:Object(p.jsx)(d.a,{children:Object(p.jsxs)(c.d,{children:[Object(p.jsx)(c.b,{path:"/",exact:!0,element:Object(p.jsx)(u,{})}),Object(p.jsx)(c.b,{path:"/pedidos",exact:!0,element:Object(p.jsx)(v,{})}),Object(p.jsx)(c.b,{path:"*",element:Object(p.jsx)(f,{})})]})})})};a(219);n.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(S,{})}),document.getElementById("root"))},93:function(e,t,a){}},[[220,1,2]]]);
//# sourceMappingURL=main.17c41172.chunk.js.map